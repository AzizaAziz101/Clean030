<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Clean Up Berlin – Wisch-Animation direkt im Canvas</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body {
    margin: 0;
    background: linear-gradient(90deg, #F7AFAE 0%, #FFF4B7 100%);
    font-family: Arial, sans-serif;
    color: #4B3F3A;
  }

  .header {
    position: relative;
    height: 23vh;
    overflow: hidden;
  }

  canvas.wipe-canvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none; /* Keine Interaktion */
    z-index: 2;
  }

  .header-content {
    position: relative;
    z-index: 3;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
</style>
</head>
<body>

<div class="header">
  <canvas class="wipe-canvas"></canvas>
  <div class="header-content">
    <h1 class="text-xl md:text-3xl font-bold">CleanUpBerlin.de</h1>
  </div>
</div>

<div class="p-6 text-center">
  <p>Beispieltext unter dem Header …</p>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const canvas = document.querySelector(".wipe-canvas");
  const ctx = canvas.getContext("2d");

  const width = canvas.clientWidth;
  const height = canvas.clientHeight;

  // Setze die echte Pixelgröße für scharfes Rendering (High-DPI)
  canvas.width = width * window.devicePixelRatio;
  canvas.height = height * window.devicePixelRatio;
  ctx.scale(window.devicePixelRatio, window.devicePixelRatio);

  let radius = 0;
  const maxRadius = Math.sqrt(width * width + height * height);
  const centerX = width / 2;
  const centerY = height / 2;

  function draw() {
    // Schleier: Grauer halbtransparenter Überzug
    ctx.clearRect(0, 0, width, height);
    ctx.fillStyle = "rgba(120,120,120,0.7)";
    ctx.fillRect(0, 0, width, height);

    // Wisch-Kreis mit weich auslaufendem Rand
    let gradient = ctx.createRadialGradient(centerX, centerY, radius * 0.6, centerX, centerY, radius);
    gradient.addColorStop(0, "rgba(255,255,255,1)");
    gradient.addColorStop(1, "rgba(255,255,255,0)");

    ctx.globalCompositeOperation = "destination-out";
    ctx.fillStyle = gradient;
    ctx.beginPath();
    ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
    ctx.fill();

    ctx.globalCompositeOperation = "source-over";
  }

  function animate() {
    radius += 6;
    draw();

    if (radius < maxRadius) {
      requestAnimationFrame(animate);
    } else {
      // Animation fertig: Canvas langsam ausblenden und entfernen
      canvas.style.transition = "opacity 1s ease";
      canvas.style.opacity = "0";
      setTimeout(() => {
        canvas.style.display = "none";
      }, 1000);
    }
  }

  animate();
});
</script>

</body>
</html>
